<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
	namespace：必须与对应的接口全类名一致
	id:必须与对应接口的某个对应的方法名一致
	
 -->
<mapper namespace="com.greatway.dao.TdMapper">
	
	<select id="findAll" resultType="Td">
		select fid id,fwelder_no welderNo,fname welderName from tb_welder where 1=1
		<if test="str!=null and str!=''">
			and ${str}
		</if>
	</select>
	
	<select id="findAlldiv" parameterType="long" resultType="Td">
		select fid fdi,fname fdn,fparent fdp,ftype fdt from tb_insframework where tb_insframework.fparent=#{fci} 
	</select>
	
	<select id="findAllIns" parameterType="long" resultType="long">
		select tb_users.users_insframework from tb_users where tb_users.id=#{fci} 
	</select>
	
	<select id="findInsid" parameterType="String" resultType="long">
		select fid fdn from tb_insframework where tb_insframework.fname=#{fdn} 
	</select>
	
	<select id="findInsname" parameterType="long" resultType="String">
		select fname fcn from tb_insframework where tb_insframework.fid=#{fci} 
	</select>

	<select id="findweld" parameterType="String" resultType="String">
		select tb_welder.fname from tb_welder where tb_welder.fwelder_no=#{fci} 
	</select>
</mapper>